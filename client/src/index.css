@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design tokens - tweak here to change global theme */
:root {
  --bg: 255 255 255; /* used as rgb for translucent backgrounds */
  --muted: #6b7280;
  --toast-bg: 54 54 54; /* rgb for toast background */
  --toast-fg: 255 255 255; /* rgb for toast foreground */
  --radius-lg: 1rem;
  --glass-alpha: 0.72;
}

/* Dark mode tokens (class-based) */
:root.dark {
  --bg: 12 18 28; /* darker background for glass overlays */
  --muted: #9ca3af;
  --radius-lg: 1rem;
  --glass-alpha: 0.42;
  --toast-bg: 20 24 28;
  --toast-fg: 248 250 252;
}

@layer base {
  html, body, #root { height: 100%; }

  body {
  @apply bg-neutral-50 text-neutral-700 antialiased;
  font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    line-height: 1.45;
    color: theme('colors.neutral.700');
  }

  /* dark body styles when .dark is present on root */
  .dark body {
    background-color: #071022; /* fallback */
    color: theme('colors.neutral.50');
  }

  /* Use neutral tokens for headings so they can be overridden in dark mode */
  h1, h2, h3, h4 { color: theme('colors.neutral.900'); }

  /* dark mode headings */
  .dark h1, .dark h2, .dark h3, .dark h4 { color: theme('colors.neutral.50'); }

  /* style plain anchors, but avoid overriding anchors used as buttons (.btn) */
  a:not(.btn) { @apply text-primary-600 hover:underline; }

  /* Heading font family uses Manrope for a more premium, rounded feel */
  h1, h2, h3, h4, .hero-title { font-family: 'Manrope', ui-serif, Georgia, 'Times New Roman', serif; }
}

@layer components {
  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center gap-3 font-medium rounded-xl transition-all duration-200 select-none;
  }
  .btn-primary {
  @apply btn text-white px-5 py-3;
  /* stronger, deeper blue gradient for premium contrast */
  background-image: linear-gradient(90deg,#1e3a8a 0%,#1e40af 100%);
  box-shadow: 0 18px 50px rgba(30,64,175,0.16);
  }
  .btn-primary:hover { transform: translateY(-2px); }
  .btn-ghost {
  @apply btn bg-surface text-primary-700 border border-neutral-200 px-4 py-2;
  }
  .dark .btn-ghost {
    @apply bg-transparent text-primary-200 border border-white/10;
  }

  /* Card */
  .card {
  @apply bg-surface rounded-2xl border border-neutral-100 overflow-hidden;
    box-shadow: 0 10px 30px rgba(2,6,23,0.06);
  }

  /* Inputs */
  .input {
  @apply w-full px-4 py-3 rounded-xl border border-neutral-200 bg-surface text-neutral-800 placeholder-neutral-400;
    transition: box-shadow .18s ease, border-color .18s ease, transform .12s ease;
  }
  .input:focus { @apply outline-none ring-2 ring-primary-300 border-transparent; transform: translateY(-1px); }

  /* better keyboard focus outlines for accessibility */
  :focus-visible {
    outline: 3px solid rgba(59,130,246,0.16);
    outline-offset: 3px;
  }

  /* Utility glass */
  .glass {
    background: rgba(var(--bg), var(--glass-alpha));
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255,255,255,0.6);
  }

  /* Hero title */
  .hero-title { @apply text-3xl font-extrabold text-neutral-900 leading-tight; }

/* Type scale tokens */

:root {
  --fs-base: 1rem;
  --fs-lg: 1.125rem;
  --fs-xl: 1.25rem;
  --fs-2xl: 1.5rem;
  --fs-hero: 3.25rem; /* balanced premium size */
}

@media (min-width: 1024px) {
  .hero-title { font-size: calc(var(--fs-hero) * 1.06); line-height: 1.01; text-wrap: balance; }
  .hero-section p { max-width: 56rem; }
  .hero-section { padding-top: 5.5rem; padding-bottom: 3.5rem; }
  .hero-section .btn + .btn { margin-left: 0.75rem; }
}

/* Subtle underline animation for plain links (not .btn) */
a:not(.btn) {
  position: relative;
  background-image: linear-gradient(currentColor, currentColor);
  background-repeat: no-repeat;
  background-size: 0% 2px;
  background-position: 0 100%;
  transition: background-size .22s ease;
}
a:not(.btn):hover, a:not(.btn):focus {
  background-size: 100% 2px;
}

/* Smooth nav pill hover transition */
.senvia-center-pill a {
  transition: transform .16s ease, background-color .18s ease, color .12s ease;
}
.senvia-center-pill a:hover {
  transform: translateY(-2px);
}

/* Stronger focus outline for keyboard users */
:focus-visible {
  outline: 4px solid rgba(59,130,246,0.12);
  outline-offset: 4px;
}

/* Ensure anchors inside cards inherit color and avoid underlines (they may be used as links or inline CTAs) */
.card a { text-decoration: none; color: inherit; }

/* Keyframes for floating hero visual */
@keyframes floatY {
  0% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
  100% { transform: translateY(0); }
}
}

.gradient-bg { background: linear-gradient(135deg,#f8fafc 0%, rgba(239,246,255,0.6) 40%, #eef2ff 100%); }
.card-muted { background: linear-gradient(180deg,#fff 0%, #fbfdff 100%); }
.gradient-bg { background: linear-gradient(135deg,#f8fafc 0%, rgba(239,246,255,0.6) 40%, #eef2ff 100%); }
.card-muted { background: linear-gradient(180deg, rgba(var(--bg),1) 0%, rgba(var(--bg),0.95) 100%); }
.elevate { box-shadow: 0 12px 36px rgba(2,6,23,0.08); }
.rounded-lg-2 { border-radius: var(--radius-lg); }

/* Premium home-specific utilities */
.hero-visual { border-radius: 1rem; }
.hero-visual .card { border-radius: 1.25rem; overflow: hidden; }
  .stat-card { @apply flex flex-col items-center justify-center p-6 bg-surface rounded-2xl border border-neutral-100; box-shadow: 0 8px 30px rgba(2,6,23,0.04); }
  /* make stat cards slightly lighter in dark mode so values pop */
  .dark .stat-card {
    background: rgba(255,255,255,0.035);
    border-color: rgba(255,255,255,0.08);
    box-shadow: 0 10px 36px rgba(2,6,23,0.44);
  }
  .dark .stat-card p { color: theme('colors.neutral.50'); font-weight: 700; }
.icon-badge { @apply inline-flex items-center justify-center w-10 h-10 rounded-xl bg-neutral-50 border border-neutral-100; }
.btn-lg { @apply px-6 py-3 rounded-2xl text-base; }
.shadow-2xl { box-shadow: 0 20px 40px rgba(2,6,23,0.12); }
.glass { border-radius: 1rem; }

/* Card shadow utility used by mobile menu and small panels (theme-aware) */
.card-shadow { box-shadow: 0 14px 44px rgba(2,6,23,0.08); background: rgba(var(--bg),1); border-radius: 0.75rem; }
.dark .card-shadow { background: rgba(10,14,20,0.6); }
/* Premium hero visual polish for desktop */
@media (min-width: 768px) {
  .hero-visual { width: 420px; max-width: 44%; transform: translateZ(0); }
  .hero-visual { animation: floatY 8s ease-in-out infinite; }
  .hero-visual .glass { opacity: 0.85; filter: blur(2px); }
  .hero-visual .card { padding: 1rem; border-radius: 1rem; box-shadow: 0 24px 60px rgba(2,6,23,0.12); }
  .hero-visual .card .text-2xl { font-weight: 700; }
}

/* Ensure the hero visual is hidden on small screens for layout and performance */
@media (max-width: 767px) {
  .hero-visual { display: none !important; }
}

/* CTA polish */
.btn-primary { @apply inline-flex items-center justify-center gap-3 font-semibold rounded-2xl transition-transform duration-250 ease-out; }
.btn-primary.btn-lg { @apply px-6 py-3; box-shadow: 0 20px 60px rgba(30,64,175,0.18); }
.btn-primary:hover { transform: translateY(-4px); box-shadow: 0 32px 80px rgba(30,64,175,0.2); }

/* Dark-mode surface overrides for consistent visuals */
.dark body {
  /* slightly lighter dark gradient to improve contrast for translucent panels */
  background: linear-gradient(180deg,#06122a 0%, #07162e 100%);
  color: theme('colors.neutral.100');
}
.dark .gradient-bg { background: linear-gradient(135deg,#06122a 0%, rgba(7,18,38,0.6) 40%, #08172f 100%); }
.dark .card, .dark .card-shadow { background: rgba(10,14,20,0.6); border-color: rgba(255,255,255,0.04); box-shadow: 0 14px 44px rgba(2,6,23,0.6); }
.dark .hero-section .hero-title { color: #f8fafc; }
.dark .hero-section p { color: #e6eefc; }
.dark .btn-primary { background-image: linear-gradient(90deg,#2563eb 0%,#1e40af 100%); box-shadow: 0 18px 50px rgba(30,64,175,0.28); }
.dark a:not(.btn) { color: #93c5fd; }
.dark .icon-badge { background: rgba(255,255,255,0.02); border-color: rgba(255,255,255,0.03); }
.dark .navbar-title { color: #e6eefc; }
.dark .input { background: rgba(255,255,255,0.02); color: #e6eefc; border-color: rgba(255,255,255,0.04); }
/* Global safety: convert literal white surfaces to muted dark surfaces when in .dark so
   existing Tailwind classes like `bg-white`, `bg-white/80`, etc. don't produce harsh
   white panels in dark mode. This uses attribute/class substring selectors to avoid
   changing all usages in JSX. */
.dark [class*="bg-white"] {
  background-color: rgba(255,255,255,0.03) !important;
  border-color: rgba(255,255,255,0.04) !important;
  color: inherit;
}
.dark [class*="bg-white/"] {
  background-color: rgba(255,255,255,0.03) !important;
}
.dark [class*="text-black"] {
  color: theme('colors.neutral.50') !important;
}
  /* body copy in dark mode */
  .dark p, .dark .text-neutral-700 { color: #cbd5e1; }
  .dark .text-neutral-600 { color: #9aa6b2; }
.btn-ghost { transition: transform .18s ease, background-color .18s ease; }
.btn-ghost:hover { transform: translateY(-2px); }

/* subtle text color adjustments for premium feel */
.hero-section .hero-title { color: #08122b; letter-spacing: -0.02em; }
.hero-section p { color: #1e293b; } /* darker for better contrast ratio (meets WCAG 2AA) */

/* Navbar visuals (compact glass bar) */
#senvia-navbar {
  /* use the --bg token for consistent translucency across themes */
  background: rgba(var(--bg), 0.6);
  border: 1px solid rgba(255,255,255,0.08);
  backdrop-filter: blur(10px) saturate(120%);
  padding: .9rem 1rem;
  border-radius: 1rem;
  min-height: 64px;
  box-shadow: 0 12px 40px rgba(2,6,23,0.08);
}
#senvia-navbar .navbar-title { color: theme('colors.gray.900'); font-weight: 700; }
#senvia-navbar a { color: inherit; text-decoration: none; opacity: 0.98; }
#senvia-navbar a:hover { opacity: 1; }
.dark #senvia-navbar { background: rgba(var(--bg), 0.84); border-color: rgba(255,255,255,0.04); box-shadow: 0 12px 36px rgba(2,6,23,0.5); }

/* small utility for the navbar layout: 3 columns (logo, center, actions) */
.senvia-grid { display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 1rem; }

.senvia-center-pill { max-width: 60vw; overflow-x: auto }

/* On larger screens, position the center pill absolutely so it doesn't push the right actions down */
@media (min-width: 768px) {
  .senvia-grid { position: relative; }
  .senvia-center { position: absolute; left: 50%; transform: translateX(-50%); pointer-events: auto; }
}

/* Surface utilities to replace literal white surfaces with theme-aware panels */
.bg-surface { background-color: rgba(var(--bg),1); }
.text-surface { color: theme('colors.neutral.900'); }
.dark .bg-surface { background-color: rgba(10,14,20,0.6); }
.dark .text-surface { color: theme('colors.neutral.100'); }

/* Ensure nav link pills don't wrap and are horizontally scrollable if necessary */
.glass.overflow-auto, #senvia-navbar .glass { overflow-x: auto; -webkit-overflow-scrolling: touch; }
#senvia-navbar .glass a { white-space: nowrap; }
#senvia-navbar .input { min-width: 160px; }
#senvia-navbar .btn.btn-primary { min-width: 110px; }

/* Focus styles for accessibility and premium feel */
.btn:focus-visible, .btn:focus {
  outline: none;
  box-shadow: 0 10px 30px rgba(2,6,23,0.12), 0 0 0 4px rgba(37,99,235,0.12);
  transform: translateY(-1px);
}
.input:focus-visible, .input:focus {
  outline: none;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.02), 0 6px 24px rgba(2,6,23,0.06);
  border-color: rgba(59,130,246,0.5);
}

/* Slightly stronger navbar glass effect */
#senvia-navbar { backdrop-filter: blur(10px) saturate(120%); }
#senvia-navbar.dark { background: rgba(var(--bg), 0.86); }

@media (max-width: 767px) {
  #senvia-navbar { left: 10px; right: 10px; top: 8px; padding: .35rem .6rem; border-radius: .75rem; }
  #senvia-navbar .container { gap: .5rem; display: flex; align-items: center; }
  #senvia-navbar .navbar-title { font-size: 0.95rem; }
  /* Ensure search input is hidden on small screens (defensive) */
  #senvia-navbar .input { display: none !important; }
  /* Make menu and toggles slightly smaller */
  #senvia-navbar button { padding: .35rem !important; }
}
